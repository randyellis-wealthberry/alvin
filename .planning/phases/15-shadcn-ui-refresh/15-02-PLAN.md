---
phase: 15-shadcn-ui-refresh
plan: 02
type: execute
depends_on: ["15-01"]
files_modified: [src/components/ui/select.tsx, src/components/ui/checkbox.tsx, src/app/contacts/contact-form.tsx, src/app/profile/profile-form.tsx]
---

<objective>
Create remaining form components and migrate ContactForm and ProfileForm to use Shadcn.

Purpose: Standardize form inputs across the app with consistent styling and accessibility.
Output: Select and Checkbox components, ContactForm and ProfileForm using new components.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/15-shadcn-ui-refresh/15-01-SUMMARY.md

# Reference implementations:
@design-os/src/components/ui/dropdown-menu.tsx

# Files to migrate:
@src/app/contacts/contact-form.tsx
@src/app/profile/profile-form.tsx

# Existing components:
@src/components/ui/button.tsx
@src/components/ui/input.tsx
@src/components/ui/label.tsx
@src/components/ui/card.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Select and Checkbox components</name>
  <files>src/components/ui/select.tsx, src/components/ui/checkbox.tsx</files>
  <action>
**select.tsx:**
Create a styled native select component (not Radix Select - simpler for this app's needs):

```tsx
import * as React from "react"
import { cn } from "~/lib/utils"

export interface SelectProps extends React.SelectHTMLAttributes<HTMLSelectElement> {}

const Select = React.forwardRef<HTMLSelectElement, SelectProps>(
  ({ className, children, ...props }, ref) => {
    return (
      <select
        ref={ref}
        className={cn(
          "flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs transition-colors",
          "file:border-0 file:bg-transparent file:text-sm file:font-medium",
          "placeholder:text-muted-foreground",
          "focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",
          "disabled:cursor-not-allowed disabled:opacity-50",
          "md:text-sm",
          className
        )}
        {...props}
      >
        {children}
      </select>
    )
  }
)
Select.displayName = "Select"

export { Select }
```

**checkbox.tsx:**
Install @radix-ui/react-checkbox first, then create:
- Copy from design-os if available, or create using Radix primitive
- Style with Shadcn theme colors (primary for checked state)
- Include check icon from lucide-react
  </action>
  <verify>npm run typecheck passes</verify>
  <done>Select and Checkbox components created and type-safe</done>
</task>

<task type="auto">
  <name>Task 2: Migrate ContactForm to Shadcn components</name>
  <files>src/app/contacts/contact-form.tsx</files>
  <action>
Refactor ContactForm to use Shadcn components:

1. Replace inline-styled inputs with Input component:
   - `<input className="rounded-lg bg-white/10...">` → `<Input />`

2. Replace inline-styled buttons with Button component:
   - Submit button: `<Button type="submit" disabled={isPending}>`
   - Cancel button: `<Button variant="ghost" onClick={onClose}>`

3. Replace inline-styled select with Select component

4. Replace checkbox inputs with Checkbox component

5. Wrap form in Card component:
   - `<Card><CardHeader>...</CardHeader><CardContent>...</CardContent></Card>`

6. Use Label component for all form labels

7. Update success/error message styling:
   - Success: Use `text-green-500` or create an Alert component
   - Error: Use `text-destructive` semantic color

8. Remove all hardcoded purple/dark theme colors (`bg-white/10`, `bg-[#15162c]`)
   - These should inherit from CSS variables

Key: Preserve all existing functionality (create/update mutations, validation, state management).
  </action>
  <verify>npm run build passes, form still functions correctly</verify>
  <done>ContactForm uses Shadcn components, no hardcoded colors</done>
</task>

<task type="auto">
  <name>Task 3: Migrate ProfileForm to Shadcn components</name>
  <files>src/app/profile/profile-form.tsx</files>
  <action>
Refactor ProfileForm to use Shadcn components:

1. Read the current ProfileForm to understand its structure

2. Replace all inline-styled form elements:
   - Inputs → Input component
   - Selects → Select component
   - Buttons → Button component
   - Labels → Label component

3. Wrap in Card component if not already

4. Remove hardcoded theme colors:
   - Replace `bg-white/10` with `bg-card` or Card component
   - Replace `text-white/70` with `text-muted-foreground`
   - Replace purple gradient references

5. Preserve all existing functionality (tRPC mutations, form state, validation)
  </action>
  <verify>npm run build passes, profile form functions correctly</verify>
  <done>ProfileForm uses Shadcn components, consistent with ContactForm</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds
- [ ] `npm run typecheck` passes
- [ ] Select and Checkbox components exist in src/components/ui/
- [ ] ContactForm uses Shadcn Button, Input, Label, Card components
- [ ] ProfileForm uses Shadcn components
- [ ] No hardcoded purple theme colors in form components
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Forms have consistent styling via Shadcn
- Form functionality preserved (create, update, validation)
</success_criteria>

<output>
After completion, create `.planning/phases/15-shadcn-ui-refresh/15-02-SUMMARY.md`
</output>
