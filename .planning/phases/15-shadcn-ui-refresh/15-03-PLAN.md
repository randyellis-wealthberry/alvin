---
phase: 15-shadcn-ui-refresh
plan: 03
type: execute
depends_on: ["15-01"]
files_modified: [src/components/ui/badge.tsx, src/app/dashboard/status-widget.tsx, src/app/dashboard/activity-log.tsx]
---

<objective>
Create Badge component and migrate dashboard display components to Shadcn.

Purpose: Standardize status indicators and dashboard cards with the new design system.
Output: Badge component, StatusWidget and ActivityLog using Shadcn Card/Badge.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/15-shadcn-ui-refresh/15-01-SUMMARY.md

# Reference implementations:
@design-os/src/components/ui/badge.tsx
@design-os/src/components/ui/card.tsx

# Files to migrate:
@src/app/dashboard/status-widget.tsx
@src/app/dashboard/activity-log.tsx

# Existing components:
@src/components/ui/card.tsx
@src/components/ui/button.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Badge component</name>
  <files>src/components/ui/badge.tsx</files>
  <action>
Copy badge.tsx from design-os/src/components/ui/badge.tsx.

Adapt imports:
- Change `import { cn } from "@/lib/utils"` to `import { cn } from "~/lib/utils"`

The badge should have variants:
- default: primary background
- secondary: secondary background
- destructive: destructive background
- outline: border with transparent background

This component is crucial for alert level indicators in StatusWidget.
  </action>
  <verify>npm run typecheck passes with Badge component</verify>
  <done>Badge component created with all variants</done>
</task>

<task type="auto">
  <name>Task 2: Migrate StatusWidget to Shadcn Card and Badge</name>
  <files>src/app/dashboard/status-widget.tsx</files>
  <action>
Refactor StatusWidget to use Shadcn components:

1. Import Card, CardHeader, CardTitle, CardContent from ~/components/ui/card
2. Import Badge from ~/components/ui/badge
3. Import Button from ~/components/ui/button

4. Replace card containers:
   - `<div className="rounded-xl bg-white/10 p-4">` → `<Card><CardContent className="pt-6">`
   - Keep internal structure but use Card semantics

5. Replace alert level badges:
   - The `getAlertLevelBadgeColor` function returns hardcoded colors
   - Map alert levels to Badge variants or use Badge with custom className:
     - LEVEL_1: Badge variant="secondary" or yellow styling
     - LEVEL_2: Badge with orange styling
     - LEVEL_3: Badge variant="destructive"
     - LEVEL_4: Badge variant="destructive" with darker shade

6. Replace "Check In Now" button:
   - Use Button component with appropriate variant
   - Keep Link wrapping for navigation

7. Update status colors:
   - `text-green-400` → use semantic colors or keep as utility
   - `text-yellow-400`, `text-red-400` → keep for status indication (these are semantic)

8. Remove hardcoded theme colors:
   - `text-white/70` → `text-muted-foreground`
   - `text-white/60` → `text-muted-foreground`
   - `bg-white/10` → Card component

Preserve all functionality: data fetching, relative time formatting, status color logic.
  </action>
  <verify>npm run build passes, status widget renders correctly</verify>
  <done>StatusWidget uses Card, Badge, Button components from Shadcn</done>
</task>

<task type="auto">
  <name>Task 3: Migrate ActivityLog to Shadcn components</name>
  <files>src/app/dashboard/activity-log.tsx</files>
  <action>
First, read the current ActivityLog component to understand its structure.

Then refactor to use Shadcn components:

1. Wrap the activity log in a Card component
2. Use CardHeader with CardTitle for the header
3. Use CardContent for the log items

4. For each activity item:
   - If using list items, style with semantic colors
   - Use Badge for activity type indicators (if applicable)
   - Replace hardcoded colors with semantic equivalents

5. Loading state:
   - Replace `bg-white/10` containers with Card
   - Use `text-muted-foreground` for loading text

6. Empty state:
   - Use Card with muted styling
   - Use `text-muted-foreground` for "No activity yet" text

7. Remove all hardcoded purple theme colors

Preserve: Data fetching, time formatting, activity type display logic.
  </action>
  <verify>npm run build passes, activity log renders correctly</verify>
  <done>ActivityLog uses Shadcn Card components, consistent with StatusWidget</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds
- [ ] `npm run typecheck` passes
- [ ] Badge component exists in src/components/ui/
- [ ] StatusWidget uses Card, Badge, Button components
- [ ] ActivityLog uses Card components
- [ ] No hardcoded purple/dark theme colors in dashboard components
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Dashboard components have consistent Shadcn styling
- Alert level badges properly styled
- All functionality preserved
</success_criteria>

<output>
After completion, create `.planning/phases/15-shadcn-ui-refresh/15-03-SUMMARY.md`
</output>
