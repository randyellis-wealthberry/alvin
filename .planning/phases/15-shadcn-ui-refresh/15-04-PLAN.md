---
phase: 15-shadcn-ui-refresh
plan: 04
type: execute
depends_on: ["15-02", "15-03"]
files_modified: [src/app/layout.tsx, src/app/page.tsx, src/app/dashboard/page.tsx, src/app/contacts/page.tsx, src/app/profile/page.tsx, src/app/check-in/page.tsx, src/app/alerts/page.tsx, src/app/chat/page.tsx]
---

<objective>
Migrate all page layouts to Shadcn theme and verify visual consistency.

Purpose: Complete the UI refresh by updating page-level styling to use the new design system.
Output: All pages using Shadcn theme variables, consistent visual appearance.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/15-shadcn-ui-refresh/15-02-SUMMARY.md
@.planning/phases/15-shadcn-ui-refresh/15-03-SUMMARY.md

# Pages to update:
@src/app/layout.tsx
@src/app/page.tsx
@src/app/dashboard/page.tsx
@src/app/contacts/page.tsx
@src/app/profile/page.tsx
@src/app/check-in/page.tsx
@src/app/alerts/page.tsx

# Existing Shadcn components:
@src/components/ui/card.tsx
@src/components/ui/button.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update root layout and global page styling</name>
  <files>src/app/layout.tsx, src/app/page.tsx</files>
  <action>
**layout.tsx:**
1. The body should use Shadcn theme colors:
   - Add `className="bg-background text-foreground"` to body (if not already via globals.css @layer base)
   - Ensure antialiased font rendering

2. If there's a dark mode toggle or theme provider needed, add it here
   - For now, can default to light mode (dark mode support in CSS already)

3. Remove any hardcoded color classes from layout wrapper

**page.tsx (home page):**
1. Read current home page structure
2. Replace the purple gradient background:
   - `bg-gradient-to-b from-[#2e026d] to-[#15162c]` → `bg-background`
   - Or use a subtle gradient with semantic colors if desired

3. Update text colors:
   - `text-white` → `text-foreground`
   - `text-white/70` → `text-muted-foreground`

4. Update any buttons or links to use Button component

5. Keep all existing functionality (auth redirects, links to other pages)
  </action>
  <verify>npm run build passes, home page renders without purple gradient</verify>
  <done>Root layout and home page use Shadcn theme colors</done>
</task>

<task type="auto">
  <name>Task 2: Update dashboard and main app pages</name>
  <files>src/app/dashboard/page.tsx, src/app/contacts/page.tsx, src/app/profile/page.tsx</files>
  <action>
Update each page to remove hardcoded purple theme:

**dashboard/page.tsx:**
- Replace `bg-gradient-to-b from-[#2e026d] to-[#15162c] text-white` → `bg-background text-foreground`
- Update `text-white/70` → `text-muted-foreground`
- Keep container structure and responsive classes
- StatusWidget and ActivityLog already migrated in Plan 03

**contacts/page.tsx:**
- Same pattern: remove purple gradient, use bg-background
- Update text colors to semantic
- ContactList component may need similar updates (check and update if needed)

**profile/page.tsx:**
- Same pattern: remove purple gradient
- Update the "Manage Passkeys" link:
  - Replace `bg-white/10 hover:bg-white/20` with Button component (variant="outline" or "secondary")
  - Or use `bg-secondary hover:bg-secondary/80`

Also check and update:
- src/app/contacts/contact-list.tsx - if it has hardcoded colors
- src/app/profile/passkeys/page.tsx - apply same updates
- src/app/profile/passkeys/passkey-setup.tsx - if it has hardcoded colors
  </action>
  <verify>npm run build passes, all updated pages render correctly</verify>
  <done>Dashboard, contacts, and profile pages use Shadcn theme</done>
</task>

<task type="auto">
  <name>Task 3: Update remaining pages (check-in, alerts, chat)</name>
  <files>src/app/check-in/page.tsx, src/app/alerts/page.tsx, src/app/chat/page.tsx</files>
  <action>
Apply the same theme migration pattern to remaining pages:

**check-in/page.tsx:**
- Remove purple gradient → `bg-background`
- Update text colors to semantic
- Check and update check-in-button.tsx and check-in-history.tsx components

**alerts/page.tsx:**
- Remove purple gradient → `bg-background`
- Update text colors to semantic
- Check and update alert-list.tsx component

**chat/page.tsx:**
- Remove purple gradient → `bg-background`
- Update text colors to semantic
- Note: Chat may have Thesys components - preserve those, update surrounding styles only

**Also update:**
- src/app/chat/[conversationId]/page.tsx - apply same pattern
- src/app/offline/page.tsx - update for consistency
- src/app/error.tsx - update for consistency

For each component file:
1. Replace `bg-white/10` → `bg-card` or Card component
2. Replace `text-white` → `text-foreground` (or `text-card-foreground` inside cards)
3. Replace `text-white/XX` → `text-muted-foreground`
4. Replace button styles with Button component where appropriate
  </action>
  <verify>npm run build passes, all pages render without purple gradient</verify>
  <done>All app pages use consistent Shadcn theme</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete Shadcn UI migration across all pages and components</what-built>
  <how-to-verify>
    1. Run: `npm run dev`
    2. Visit: http://localhost:3000 (home page)
       - Confirm: No purple gradient, clean light theme
    3. Sign in and visit: http://localhost:3000/dashboard
       - Confirm: StatusWidget and ActivityLog have consistent card styling
       - Confirm: Alert badges are properly colored
    4. Visit: http://localhost:3000/contacts
       - Confirm: Form uses styled inputs, buttons, cards
       - Test: Add/edit a contact to ensure form works
    5. Visit: http://localhost:3000/profile
       - Confirm: Form styling matches contacts
    6. Visit: http://localhost:3000/check-in
       - Confirm: Check-in button and history use theme
    7. Visit: http://localhost:3000/chat
       - Confirm: Chat interface uses theme (Thesys components may have own styling)
    8. Check dark mode (if implemented):
       - Toggle dark mode or add `class="dark"` to html element
       - Confirm: Colors invert properly
    9. Mobile responsiveness:
       - Resize browser to mobile width
       - Confirm: No layout breaks, readable text
  </how-to-verify>
  <resume-signal>Type "approved" to complete Phase 15, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds
- [ ] `npm run typecheck` passes
- [ ] No hardcoded `#2e026d`, `#15162c` colors remain in codebase
- [ ] All pages use bg-background, text-foreground semantic classes
- [ ] Human verification approved
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Human has approved visual consistency
- No hardcoded purple theme colors in any file
- Phase 15 complete
</success_criteria>

<output>
After completion, create `.planning/phases/15-shadcn-ui-refresh/15-04-SUMMARY.md` with:
- Summary of pages migrated
- Any component-specific decisions made
- Dark mode status (implemented/deferred)
- Phase 15 completion status
</output>
